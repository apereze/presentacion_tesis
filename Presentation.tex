%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% IISER Thiruvananthapuram Presentation/Beamer Format
% LaTeX Template
%
% Author:
% Nikhil Alex Verghese, BS-MS 17, IISER Thiruvananthapuram
% PLEASE FORWARD ANY AND ALL SUGGESTIONS AND COMPLAINTS TO: nikhil.alexv17@alumni.iisertvm.ac.in
%
% READ ALL INSTRUCTIONS (presented as comments) IN EACH TEX FILE CAREFULLY.
%
% License:
% CC BY-NC-SA 4.0 (http://creativecommons.org/licenses/by-nc-sa/4.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Refer to these super useful links for beamer tips and tricks
% http://tug.ctan.org/macros/latex/contrib/beamer/doc/beameruserguide.pdf
% https://www.overleaf.com/learn/latex/Beamer

%-----------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%-----------------------------------------------------------------------------------

\documentclass[10pt,presentation,shownotes]{beamer}
\usetheme{Warsaw}
\usecolortheme{crane} % Yellow and Blue color scheme
\usepackage{beamerthemesplit}
\usefonttheme{default}
\setbeamertemplate{caption}[numbered]
\setbeamercolor{block body example}{bg=green!12}
\setbeamertemplate{navigation symbols}{} % Uncomment to disable the bottom right navigation buttons
\setbeamercovered{transparent}
\setbeamertemplate{theorems}[numbered]
% THE FOLLOWING TEMPLATE IS FRAGILE: It is recommended you familiarise yourself with 
% a rough idea of the presentation's framework before adding custom elements.

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[spanish]{babel}
\usepackage{csquotes}
\usepackage{mathtools,amsfonts,amssymb,setspace}

\usepackage{pstricks} % PSTricks offers an extensive collection of quick and easy macros for generating PostScript including macros for colour, graphics, pie charts, rotation, trees and overlays.
% (https://ctan.org/pkg/pstricks-base?lang=en)

\usepackage{hyperref} % hypperref package for creating reliable hyperlinks and customizations
% (https://ctan.org/pkg/hypperref?lang=en)

\usepackage{tikz} % Tikz package for drawing graphs and diagrams [XY-pic is now outdated]
% (https://ctan.org/pkg/tikz?lang=en, https://www.overleaf.com/learn/latex/TikZ_package)

%\usepackage{tikz-cd} % Commutative Diagrams with Tikz, primarily for linear algebra.
% (https://ctan.org/pkg/tikz-cd?lang=en)

%\usepackage{pgfplots} % The Pgfplots package is dependent on tikz package and is used to portray
% detailed 2D and 3D function plots from scratch as well as plot available data with a high degree
% of customization (https://www.overleaf.com/learn/latex/Pgfplots_package) 
% (https://ctan.org/pkg/pgfplots?lang=en)

%\usepackage{caption} % The captions package allows you to better control captions for floating environments like figures, etc. (https://ctan.org/pkg/caption?lang=en)

%\usepackage{booktabs} % The booktabs package allows better control over tables including ruling, width, etc. (https://ctan.org/pkg/booktabs?lang=en) 

\usepackage{booktabs}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{xcolor} % Customize colours for hyperlinks, etc.
% (https://ctan.org/pkg/xcolor?lang=en)
\hypersetup{
	colorlinks,
	linkcolor={blue!50!black},
	citecolor={blue!50!black},
	urlcolor={blue!80!black}
}

\usepackage{appendixnumberbeamer} % This resets the page count after the \appendix function is called, unlike the traditional appendix package (https://ctan.org/pkg/appendixnumberbeamer?lang=en)

\usepackage[backend=biber,style=alphabetic]{biblatex} % We use BiBLaTeX for our bibliography.
% (https://ctan.org/pkg/biblatex?lang=en)
\renewcommand*{\nameyeardelim}{\addcomma\addspace}
\addbibresource{References/ref.bib}

% The lipsum package called in the next line is just for generating dummy text throughout this template and is not necessary.
\usepackage{lipsum}

% Note: Changes to specific presentation elements usually start with /makeatletter and ends with /makeatother

% Defining an Example Block
\makeatletter
\def\th@remark{%
    \normalfont % body font
    \setbeamercolor{block title example}{bg=orange,fg=black}
    \setbeamercolor{block body example}{bg=orange!20,fg=black}
    \def\inserttheoremblockenv{exampleblock}
  }
\makeatother

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

% Setting Header Properties
\setbeamertemplate{headline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.5ex,dp=1ex,left,leftskip=1em]{section in head/foot}%
    \usebeamerfont{subsection in head/foot}\hspace*{2ex}\insertshorttitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.5ex,dp=1ex,center]{date in head/foot}%
    \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}

% Setting Footer Properties
\makeatletter
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.33\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \usebeamerfont{author in head/foot}\insertshortauthor~~\beamer@ifempty{\insertshortinstitute}{}{(\insertshortinstitute)}
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.34\paperwidth,ht=2.25ex,dp=1ex,center]{subsection in head/foot}%
    \usebeamerfont{section in head/foot}\hspace*{1ex}\insertsectionhead\hspace*{1ex}
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.33\paperwidth,ht=2.25ex,dp=1ex,right, rightskip=1em]{section in head/foot}%
    \usebeamerfont{section in head/foot}\insertsubsectionhead\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}
\makeatother

% Defining when a title is required for a frame
\makeatletter
\setbeamertemplate{frametitle}{
    \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
    \@tempdima=\textwidth%
    \advance\@tempdima by\beamer@leftmargin%
    \advance\@tempdima by\beamer@rightmargin%
    \begin{beamercolorbox}[sep=0.3cm,center,wd=\the\@tempdima]{frametitle}
        \usebeamerfont{frametitle}%
        \vbox{}\vskip-1ex%
        \if@tempswa\else\csname beamer@ftecenter\endcsname\fi%
        \strut\insertframetitle\strut\par%
        {%
            \ifx\insertframesubtitle\@empty%
            \else%
            {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
            \fi
        }%
        \vskip-1ex%
        \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
    \end{beamercolorbox}%
}
\makeatother

% This code displays a self-updating ToC at the beginning of every section.
\AtBeginSection[]
{
	\begin{frame}
	\frametitle{Flujo de la presentación}
	\tableofcontents[currentsection]
	\end{frame}
}

\makeatletter
\newcommand<>{\insertsubsectiontitle}{\frametitle{\insertsubsection}}
\let\oldbeamer@checkframetitle\beamer@checkframetitle% Store the \frametitle checking mechanism
\renewcommand<>{\subsection}{%
  \gdef\beamer@checkframetitle{% Update \frametitle checking to ...
    \insertsubsectiontitle% ...insert the section title and...
    \global\let\beamer@checkframetitle\oldbeamer@checkframetitle% ...revert to it's old definition
  }% Regular \section stuff follows
  \alt#1{\@ifnextchar[\beamer@subsection\beamer@@subsection}
    {\beamer@secgobble}}
\makeatother

% Defining proofs environment for proofs requiring more than one frame
\makeatletter
\newenvironment<>{proofs}[1][\proofname]{%
    \par
    \def\insertproofname{#1\@addpunct{.}}%
    \usebeamertemplate{proof begin}#2}
  {\usebeamertemplate{proof end}}
\makeatother

% Uncomment for some standard notations in math (Real, Complex and Rational numbers, Norm, Jacobian, etc) 
% \newcommand{\reals}{\mathbb{R}}
% \newcommand{\mtrx}{\mathbb{M}}
% \newcommand{\jacobian}{\mathcal{J}}
% \newcommand{\tallstrut}{\vphantom{\frac{5_A}{4,10^3}}}
% \newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
% \newcommand{\norm}[1]{\left\lVert #1 \right\rVert}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 TITLE PAGE, FILL IN FOR PLACEHOLDER TEXT                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Note: Longer input for Title Page, Abridged Input for Header and Footer

\title[\color{white}El papel del tamaño de los ciclones tropicales en la precipitación en México]{El papel del tamaño de los ciclones tropicales en la precipitación en México
}
\author[Adolfo Pérez]{Adolfo Pérez Estrada}
\institute[PCT UNAM]{Programa de Posgrado en Ciencias de la Tierra \\ Universidad Nacional Autónoma de México}
\date[\insertframenumber/\inserttotalframenumber]{Examen que opta por el grado de: \\ Maestro en Ciencias de la Tierra}
% (Major/Minor Project Presentation, Thesis Defense, etc.)
\titlegraphic{\includegraphics[height=40pt]{Images/Logos/posgrado2.jpg}}

% Document starts here
\begin{document}

\setlength{\belowcaptionskip}{10pt plus 2pt minus 4pt}

% Title page
\begin{frame}[plain]
	\maketitle
\end{frame}

% Chapters
\input{Chapters/1_introduccion.tex}
\input{Chapters/2_metodologia.tex}
\input{Chapters/3_resultados.tex}
\input{Chapters/4_conclusion.tex}

% Bibliography/References
%\begin{frame}[allowframebreaks]
%	\frametitle{References}
%	\nocite{*}
%	\printbibliography
%\end{frame}

\end{document}